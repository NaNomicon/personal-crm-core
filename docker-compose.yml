version: '3.8'

services:
  mcp-server:

    build: ./mcp-server
    volumes:
      - ./kuzu_data:/app/kuzu_data
    environment:
      - KUZU_PATH=/app/kuzu_data/personal_crm.kuzu
    ports:
      - "8000:8000"
    restart: unless-stopped
    labels:

      - "traefik.enable=true"
      - "traefik.http.routers.mcp-server.rule=Host(`pcrm.nanomicon.com`)"
      - "traefik.http.services.mcp-server.loadbalancer.server.port=8000"
      - "traefik.http.routers.mcp-server.entrypoints=websecure"
